{% extends "admin/base.html" %}
{% load static %}
{% load shortcuts %}

{% block extrahead %}
  {{ block.super }}
  {% block extrahead_shortcuts %}
    <link rel="stylesheet" href="{% static "admin/css/shortcuts.css" %}">
    <script src="{% static "admin/js/shortcuts.js" %}" async></script>
  {% endblock %}
{% endblock %}

{% block footer %}
  {{ block.super }}
  {% block shortcuts %}
  <button id="open-shortcuts">
    <kbd>?</kbd>
  </button>
  <dialog id="model-list-dialog">
    <div class="dialog-heading">
      <h2>Models</h2>
      <form method="dialog">
        <button aria-label="Close">✖️</button>
      </form>
    </div>
    <section>
      <h3>Models</h3>
      <ul>
        {% all_models as models %}
        {% for model in models %}
          <li>
            <a href="{{ model.url }}"{{ model.name }}>
              {{ model.name }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </section>
  </dialog>
  <dialog id="shortcuts-dialog">
    <div class="dialog-heading">
      <h2>Keyboard shortcuts</h2>
      <form method="dialog">
        <button aria-label="Close">✖️</button>
      </form>
    </div>
    <section>
      <h3>Global</h3>
      <ul>
        <li>
          <div class="shortcut-description">Show this dialog</div>
          <div class="shortcut-keys"><kbd>?</kbd></div>
        </li>
        <li>
          <div class="shortcut-description">Go to the site index</div>
          <div class="shortcut-keys"><kbd>g</kbd> <kbd>i</kdb></div>
        </li>
        <li>
          <div class="shortcut-description">Go to a change list page</div>
          <div class="shortcut-keys"><kbd>g</kbd> <kbd>l</kdb></div>
      </ul>
    </section>
    {% endblock shortcuts %}
    {% block extra_shortcuts %}{% endblock %}
  </dialog>
{% endblock %}
